<template>
  <div class="welcome">
    <v-alert text color="info" icon="mdi-fire" border="left">
      <h3 class="d-inline">å˜¿ï¼Œè‹±é›„~ ğŸ˜»</h3>
      <p class="font-italic ml-4 d-inline">
        è°ƒè¯• API å¯ä»¥ä½¿ç”¨
        <span class="font-weight-bold">Postman</span> æˆ–è€…
        <span class="font-weight-bold">REST Client</span>
        å“¦~
      </p>
    </v-alert>
    <v-card>
      <v-toolbar>
        <v-toolbar-title>API æŒ‡å—</v-toolbar-title>
        <v-subheader>
          å ä½ç¬¦ï¼š{resources} - é›†åˆå, {childResources} - å…³è”å­é›†åˆå, {parentResource} - å…³è”çˆ¶é›†åˆå(å•æ•°ï¼Œä¸å¸¦`s`),
          {dbName} - æ•°æ®åº“å
        </v-subheader>
      </v-toolbar>
      <v-expansion-panels accordion>
        <v-expansion-panel>
          <v-expansion-panel-header>
            å¸¸è§„
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET    /{resources}
    GET    /{resources}/:id
    POST   /{resources}
    PUT    /{resources}/:id
    PATCH  /{resources}/:id
    DELETE /{resources}/:id
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            è¿‡æ»¤ï¼ˆFilterï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?key1=value1&key2=value2
    GET /{resources}?id=1&id=2
    GET /{resources}?key.childKey=value
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            åˆ†é¡µï¼ˆPaginateï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?_page=5&_limit=10
    GET /{resources}?_page=5
            </pre>
            <p class="font-italic mt-2">
              é»˜è®¤è¿”å› 10 æ¡
            </p>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            æ’åºï¼ˆSortï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?_sort=key&_order=asc
    GET /{resources}/:id/{childResources}?_sort=key&_order=asc
    GET /{resources}?_sort=key1,key2&_order=desc,asc
            </pre>
            <p class="font-italic mt-2">
              asc - å‡åºï¼ˆé»˜è®¤ï¼‰, desc - é™åº
            </p>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            åˆ‡ç‰‡ï¼ˆSliceï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?_start=20&_end=30
    GET /{resources}/:id/{childResources}?_start=20&_end=30
    GET /{resources}/:id/{childResources}?_start=20&_limit=10
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            æ“ä½œç¬¦ï¼ˆOperatorsï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?key_gte=10&key_lte=20
    GET /{resources}?id_ne=1
    GET /{resources}?key_like=value ï¼ˆæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼‰
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            å…¨æ–‡æœç´¢ï¼ˆFull-text searchï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?q=value
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            å…³è”æŸ¥è¯¢ï¼ˆRelationshipsï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">

    GET /{resources}?_embed={childResources}
    GET /{resources}/1?_embed={childResources}
    GET /{resources}?_expand={parentResource}
    GET /{resources}/1?_expand={parentResource}

    # èŒƒä¾‹ï¼š
    GET /users?_embed=tasks
    GET /users/1?_embed=tasks
    GET /tasks?_expand=user
    GET /tasks/1?_expand=user
            </pre>
            <p class="font-italic my-2">
              æ³¨æ„ï¼šè¿™é‡Œçš„ {parentResource} æ˜¯å•æ•°ï¼Œä¸è¦å¸¦ <span class="pink--text font-weight-bold">`s`</span>ï¼ŒèŒƒä¾‹ï¼š
            </p>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            æ‰€æœ‰æ•°æ®ï¼ˆAll Dataï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <pre style="background-color: #f6f8fa;">
    
    GET /{resources}/db
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            æ–‡ä»¶ä¸Šä¼ ï¼ˆFile Uploadï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <p class="font-italic my-2">æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ ï¼šæœ€å¤š <span class="pink--text font-weight-bold">12</span> ä¸ª</p>
            <p class="font-italic my-2">è¯·æ±‚å‚æ•°åï¼š<span class="font-weight-bold pink--text">files</span></p>
            <p class="font-italic my-2">
              æ”¯æŒçš„æ–‡ä»¶åç¼€ç±»å‹ï¼š
              <span class="pink--text font-weight-bold">.txt</span>,
              <span class="pink--text font-weight-bold">.md</span>,
              <span class="pink--text font-weight-bold">.xmind</span>,
              <span class="pink--text font-weight-bold">.json</span>,
              <span class="pink--text font-weight-bold">.json5</span>,
              <span class="pink--text font-weight-bold">.xml</span>,
              <span class="pink--text font-weight-bold">.svg</span>,
              <span class="pink--text font-weight-bold">.jpg</span>,
              <span class="pink--text font-weight-bold">.png</span>,
              <span class="pink--text font-weight-bold">.jpeg</span>,
              <span class="pink--text font-weight-bold">.gif</span>,
              <span class="pink--text font-weight-bold">.ppt</span>,
              <span class="pink--text font-weight-bold">.pptx</span>,
              <span class="pink--text font-weight-bold">.doc</span>,
              <span class="pink--text font-weight-bold">.docx</span>,
              <span class="pink--text font-weight-bold">.xls</span>,
              <span class="pink--text font-weight-bold">.xlsx</span>,
              <span class="pink--text font-weight-bold">.pdf</span>,
              <span class="pink--text font-weight-bold">.zip</span>,
              <span class="pink--text font-weight-bold">.tar</span>,
              <span class="pink--text font-weight-bold">.gz</span>,
              <span class="pink--text font-weight-bold">.tar.gz</span>,
              <span class="pink--text font-weight-bold">.7z</span>
            </p>
            <p class="font-italic my-2">REST CLIENT è¯·æ±‚ç¤ºä¾‹ï¼š</p>
            <pre style="background-color: #f6f8fa;">
    
    POST /upload
    Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

    ------WebKitFormBoundary7MA4YWxkTrZu0gW
    Content-Disposition: form-data; name="files"; filename="xxx.jpg"
    Content-Type: image/jpeg

    &lt; /path/to/xxx.jpg

    ------WebKitFormBoundary7MA4YWxkTrZu0gW
    Content-Disposition: form-data; name="files"; filename="xxx.png"
    Content-Type: image/png

    &lt; /path/to/xxx.png

    ------WebKitFormBoundary7MA4YWxkTrZu0gW--
            </pre>
            <p class="font-italic my-2">å“åº”æ•°æ®å½¢å¦‚ï¼š</p>
            <pre style="background-color: #f6f8fa;">

    {
      "code": 200,
      "msg": "ok.",
      "data": {
        "files": [
          {
            "fieldname": "files",
            "originalname": "xxx.jpg",
            "encoding": "7bit",
            "mimetype": "image/jpeg",
            "destination": "/Users/andremao/git-repository/json-server-ui/server/public/uploads",
            "filename": "20201125-163613-889-274d5e5d-9d64-4d7b-a226-c11a8716cf9b.jpg",
            "path": "/Users/andremao/git-repository/json-server-ui/server/public/uploads/20201125-163613-889-274d5e5d-9d64-4d7b-a226-c11a8716cf9b.jpg",
            "size": 8028,
            "url": "http://localhost:3000/uploads/20201125-163613-889-274d5e5d-9d64-4d7b-a226-c11a8716cf9b.jpg"
          },
          {
            "fieldname": "files",
            "originalname": "xxx.png",
            "encoding": "7bit",
            "mimetype": "image/png",
            "destination": "/Users/andremao/git-repository/json-server-ui/server/public/uploads",
            "filename": "20201125-163613-892-e2362328-23a0-4cbb-ae5a-9856b8659a9b.png",
            "path": "/Users/andremao/git-repository/json-server-ui/server/public/uploads/20201125-163613-892-e2362328-23a0-4cbb-ae5a-9856b8659a9b.png",
            "size": 3222,
            "url": "http://localhost:3000/uploads/20201125-163613-892-e2362328-23a0-4cbb-ae5a-9856b8659a9b.png"
          }
        ]
      }
    }
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
        <v-expansion-panel>
          <v-expansion-panel-header>
            è·¯ç”±æ˜ å°„ï¼ˆRoutes Mapï¼‰
          </v-expansion-panel-header>
          <v-expansion-panel-content>
            <span class="d-block my-2"
              >åœ¨
              <span style="background-color: #f6f8fa;">/dbs/{dbName}/routes-map.json</span>
              æ–‡ä»¶ä¸­é…ç½®ï¼Œä»¥ä¸‹ä¸ºå‚è€ƒï¼š</span
            >
            <pre style="background-color: #f6f8fa;">

    {
      "/users/lastname/:lastname": "/users?name_like=^:lastname",
      "/users/minage/:minage": "/users?age_gte=:minage",
      "/users/lastname/:name/minage/:age": "/users?name_like=^:name&age_gte=:age",

      "/api/*": "/$1",
      "/:resources/:id/show": "/:resources/:id",
      "/posts/:category": "/posts?category=:category",
      "/articles\\?id=:id": "/posts/:id"
    }
            </pre>
            <span class="d-block my-2">ç°åœ¨ï¼Œä½ å°±å¯ä»¥è¿™æ ·è®¿é—®ï¼š</span>
            <pre style="background-color: #f6f8fa;">
    
    # è·å–å§“å¼ çš„æ‰€æœ‰ç”¨æˆ·
    /users/lastname/å¼  # â†’ /users?name_like=^å¼ 

    # è·å–å¤§äºç­‰äº18å²çš„æ‰€æœ‰ç”¨æˆ·
    /users/minage/18 # â†’ /users?age_gte=18

    # è·å–å§“å¼ å¹¶ä¸”å¤§äºç­‰äº18å²çš„æ‰€æœ‰ç”¨æˆ·
    /users/lastname/å¼ /minage/18 # â†’ /users?name_like=^å¼ &age_gte=18

    /api/posts # â†’ /posts
    /api/posts/1  # â†’ /posts/1
    /posts/1/show # â†’ /posts/1
    /posts/javascript # â†’ /posts?category=javascript
    /articles?id=1 # â†’ /posts/1
            </pre>
          </v-expansion-panel-content>
        </v-expansion-panel>
      </v-expansion-panels>
    </v-card>
  </div>
</template>

<script>
export default {
  name: 'Welcome',
};
</script>
